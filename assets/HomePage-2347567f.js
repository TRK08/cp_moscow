import{d as u,o as r,c as x,a as t,u as j,s as w,b as $,r as e,e as i,w as o,f as g,g as n,h as _,i as b,N as z,j as M}from"./index-1454946b.js";import{u as d}from"./VideoPlayer.vue_vue_type_style_index_0_lang-591c230c.js";const P={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},S=t("path",{d:"M80 152v256a40.12 40.12 0 0 0 40 40h272a40.12 40.12 0 0 0 40-40V152",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),A=t("rect",{x:"48",y:"64",width:"416",height:"80",rx:"28",ry:"28",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),H=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 304l-64 64l-64-64"},null,-1),O=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 345.89V224"},null,-1),R=[S,A,H,O],T=u({name:"ArchiveOutline",render:function(a,c){return r(),x("svg",P,R)}}),U={class:"home-page__upload"},E={style:{"margin-bottom":"12px"}},F=u({__name:"UploadFile",setup(p){const a=j(),{fetchStatus:c}=w(d()),{uploadVideo:l}=d(),h=$(),m=async f=>{const s=await l(f);s&&a.success({title:"Видео успешно загружено и обрбатывется.",content:'Результаты обработки доступны во вкладке "Архив"',duration:7e3,closable:!0,action:()=>b(z,{text:!0,type:"primary",onClick:()=>{h.push("/archive")}},{default:()=>"Перейти в архив"})}),(s==null?void 0:s.status)==="error"&&a.error({content:"Что-то пошло не так",duration:3e3})};return(f,s)=>{const v=e("n-spin"),y=e("n-icon"),C=e("n-text"),k=e("n-p"),B=e("n-upload-dragger"),V=e("n-upload"),N=e("n-card");return r(),i(N,null,{default:o(()=>[t("div",U,[g(c)==="loading"?(r(),i(v,{key:0,size:"large",style:{width:"100%"}})):(r(),i(V,{key:1,"directory-dnd":"","on-change":m,"show-file-list":!1,accept:"video/mp4"},{default:o(()=>[n(B,null,{default:o(()=>[t("div",E,[n(y,{size:"48",depth:3,component:g(T)},null,8,["component"])]),n(C,{style:{"font-size":"16px"}},{default:o(()=>[_(" Кликните или перетащите видео ")]),_:1}),n(k,{depth:"3",style:{margin:"8px 0 0 0"}},{default:o(()=>[_(" Доступный формат: .mp4 ")]),_:1}),n(k,{depth:"3",style:{margin:"8px 0 0 0"}},{default:o(()=>[_(" Максимальный размер: 100 МБ ")]),_:1})]),_:1})]),_:1}))])]),_:1})}}}),I={class:"home-page"},q=t("h2",null,null,-1),J=u({__name:"HomePage",setup(p){const{fetchStatus:a,videoId:c,videoPath:l}=w(d());return M(()=>{c.value=null,l.value=null}),(h,m)=>(r(),x("div",I,[q,n(F)]))}});export{J as default};
